"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1445],{1445:(M,u,i)=>{i.r(u),i.d(u,{SetPassPageModule:()=>w});var P=i(177),g=i(4341),a=i(4742),d=i(7291),f=i(467),p=i(7464),e=i(4438),m=i(8556);const h=[{path:"",component:(()=>{var o;class l{constructor(n,t){this.storageService=n,this.router=t,this.userData=null,this.id="",this.username="",this.password="",this.confirmPassword="",this.showPassword=!1,this.showConfirmPassword=!1}ngOnInit(){var n;this.userData=this.storageService.getUserData(),this.username=this.storageService.getUserName()||"",this.id=(null===(n=this.storageService.getUserData())||void 0===n||null===(n=n.userData)||void 0===n?void 0:n.id)||""}togglePasswordVisibility(n){"password"===n?this.showPassword=!this.showPassword:"confirmPassword"===n&&(this.showConfirmPassword=!this.showConfirmPassword)}saveChanges(){var n=this;return(0,f.A)(function*(){if(n.id)if(n.password===n.confirmPassword)if(n.username){const t={id:n.id,username:n.username,password:n.password?n.password:null};try{200===(yield p.pX.post({url:"https://epos.pringapus.com/api/v1/Authentication/updateUser",data:t,headers:{"Content-Type":"application/json"}})).status?(n.userData.username=n.username,localStorage.setItem("user_data",JSON.stringify(n.userData)),console.log("Profile updated successfully"),n.router.navigate(["tab/profile"])):console.error("Failed to update profile")}catch(r){console.error("Error updating profile:",r)}}else console.log("Please fill in all fields");else console.log("Passwords do not match");else console.error("ID is missing")})()}}return(o=l).\u0275fac=function(n){return new(n||o)(e.rXU(m.n),e.rXU(d.Ix))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-set-pass"]],standalone:!1,decls:21,vars:7,consts:[["slot","start","fill","clear","size","small",3,"click"],["name","chevron-back-outline",2,"color","#FC9C4C","font-size","2rem"],[2,"color","black"],[1,"login-container"],[1,"input-container"],["type","text","label","Enter New Username","label-placement","floating","required","",3,"ngModelChange","ngModel"],["label","New Password","label-placement","floating","required","",3,"ngModelChange","ngModel","type"],["slot","end",2,"cursor","pointer",3,"click","name"],["label","Confirm Password","label-placement","floating","required","",3,"ngModelChange","ngModel","type"],[1,"btn"],["expand","block","shape","round",3,"click"]],template:function(n,t){1&n&&(e.j41(0,"ion-header")(1,"ion-button",0),e.bIt("click",function(){return t.router.navigate(["/edit-pass"])}),e.nrm(2,"ion-icon",1),e.k0s(),e.j41(3,"ion-title",2),e.EFF(4,"Edit Profile"),e.k0s()(),e.j41(5,"ion-content")(6,"ion-grid",3)(7,"ion-grid",4)(8,"ion-input",5),e.mxI("ngModelChange",function(s){return e.DH7(t.username,s)||(t.username=s),s}),e.k0s()(),e.j41(9,"ion-grid",4)(10,"ion-input",6),e.mxI("ngModelChange",function(s){return e.DH7(t.password,s)||(t.password=s),s}),e.k0s(),e.j41(11,"span")(12,"ion-icon",7),e.bIt("click",function(){return t.togglePasswordVisibility("password")}),e.k0s()()(),e.j41(13,"ion-grid",4)(14,"ion-input",8),e.mxI("ngModelChange",function(s){return e.DH7(t.confirmPassword,s)||(t.confirmPassword=s),s}),e.k0s(),e.j41(15,"span")(16,"ion-icon",7),e.bIt("click",function(){return t.togglePasswordVisibility("confirmPassword")}),e.k0s()()(),e.j41(17,"ion-grid",9)(18,"ion-button",10),e.bIt("click",function(){return t.saveChanges()}),e.j41(19,"ion-title"),e.EFF(20,"Simpan Perubahan"),e.k0s()()()()()),2&n&&(e.R7$(8),e.R50("ngModel",t.username),e.R7$(2),e.R50("ngModel",t.password),e.Y8G("type",t.showPassword?"text":"password"),e.R7$(2),e.Y8G("name",t.showPassword?"eye":"eye-off"),e.R7$(2),e.R50("ngModel",t.confirmPassword),e.Y8G("type",t.showConfirmPassword?"text":"password"),e.R7$(2),e.Y8G("name",t.showConfirmPassword?"eye":"eye-off"))},dependencies:[g.BC,g.YS,g.vS,a.Jm,a.W9,a.lO,a.eU,a.iq,a.$w,a.BC,a.Gw],styles:["ion-header[_ngcontent-%COMP%]{padding:20px 0;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#fff}ion-header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-weight:700;font-size:larger;text-align:center}ion-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{position:absolute;left:1rem}ion-content[_ngcontent-%COMP%]{--background: white}ion-content[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{padding:1.2rem 0 0;background-color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:auto;overflow:hidden}ion-content[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{color:#454545;background:#fff;width:90%;padding:.5rem 1.5rem;margin:.5rem 0;text-align:start;box-shadow:0 5px 7px #00000038;border-radius:15px;display:flex;align-items:center;justify-content:center;gap:10px}ion-content[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#454545;font-size:1.5rem}ion-content[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:1.5rem 0 0;--background: #CF8F24}ion-content[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{color:#fff;font-size:medium}"]}),l})()}];let C=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[d.iI.forChild(h),d.iI]}),l})(),w=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[P.MD,g.YN,a.bv,C]}),l})()}}]);