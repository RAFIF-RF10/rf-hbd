"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8842],{8842:(v,s,a)=>{a.r(s),a.d(s,{ProfilePageModule:()=>x});var g=a(177),u=a(4341),c=a(4742),d=a(7291),P=a(467),m=a(7464),n=a(4438);function f(e,i){if(1&e&&(n.j41(0,"ion-grid")(1,"ion-grid",20)(2,"ion-title",18),n.EFF(3,"Username"),n.k0s(),n.j41(4,"ion-title"),n.EFF(5),n.k0s()(),n.j41(6,"ion-grid",21)(7,"ion-title",18),n.EFF(8,"Outlet"),n.k0s(),n.j41(9,"ion-title"),n.EFF(10),n.k0s()()()),2&e){const r=n.XpG();n.R7$(5),n.JRh(r.userData.userData.username),n.R7$(5),n.JRh(r.userData.userData.outlet_name)}}function p(e,i){1&e&&(n.j41(0,"ion-title",22),n.EFF(1,"Gold"),n.k0s())}function _(e,i){1&e&&(n.j41(0,"ion-title",23),n.EFF(1,"Silver"),n.k0s())}function C(e,i){1&e&&(n.j41(0,"ion-title",24),n.EFF(1,"Bronze"),n.k0s())}function M(e,i){1&e&&n.nrm(0,"ion-icon",25)}function O(e,i){1&e&&n.nrm(0,"ion-icon",26)}function h(e,i){if(1&e){const r=n.RV6();n.j41(0,"ion-grid",27)(1,"ion-card",28),n.bIt("click",function(){n.eBV(r);const o=n.XpG();return n.Njj(o.router.navigate(["/edit-pass"]))}),n.j41(2,"ion-title"),n.EFF(3,"Edit Username and Password"),n.k0s()(),n.j41(4,"ion-card",29),n.bIt("click",function(){n.eBV(r);const o=n.XpG();return n.Njj(o.router.navigate(["/edit-membership"]))}),n.j41(5,"ion-title"),n.EFF(6,"Update Membership"),n.k0s()()()}}let b=(()=>{var e;class i{constructor(t){this.router=t,this.userData=null,this.username="",this.password="",this.confirmPassword="",this.isEditing=!1,this.showPassword=!1,this.showConfirmPassword=!1,this.profileEdit=!1}ngOnInit(){this.loadUserData()}loadUserData(){const t=localStorage.getItem("user_data");t?(this.userData=JSON.parse(t),this.username=this.userData.userData.username):console.log("No user data found in localStorage")}toggleEdit(){this.isEditing=!this.isEditing}togglePasswordVisibility(t){"password"===t?this.showPassword=!this.showPassword:"confirmPassword"===t&&(this.showConfirmPassword=!this.showConfirmPassword)}saveChanges(){var t=this;return(0,P.A)(function*(){if(t.password===t.confirmPassword)if(t.username&&t.password){const o={id:t.userData.userData.id,username:t.username,password:t.password};try{200===(yield m.pX.post({url:"https://epos.pringapus.com/api/v1/Authentication/updateUser",data:o,headers:{"Content-Type":"application/json"}})).status?(t.userData.userData.username=t.username,localStorage.setItem("user_data",JSON.stringify(t.userData)),t.isEditing=!1,t.router.navigate(["tab/profile"]),console.log("Profile updated successfully")):console.error("Failed to update profile")}catch(l){console.error("Error updating profile:",l)}}else console.log("Please fill in all fields");else console.log("Passwords do not match")})()}logout(){localStorage.clear(),this.router.navigate(["/login"])}openProfileEdit(){this.profileEdit=!this.profileEdit}}return(e=i).\u0275fac=function(t){return new(t||e)(n.rXU(d.Ix))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-profile"]],standalone:!1,decls:25,vars:8,consts:[[3,"fullscreen"],[1,"profile-container"],[1,"container"],[1,"profile"],[4,"ngIf"],[2,"display","flex","justify-content","center","flex-direction","column","align-items","center"],["name","person-circle-outline",2,"font-size","5rem"],["class","member","style","font-size: medium; color: white; background: linear-gradient(to right, #FEBB4B,#dd971d); padding: 5px 25px; margin-top: 20px; border-radius: 1rem; ",4,"ngIf"],["class","member","style","font-size: medium; color: white; background:linear-gradient(to right, #1EA7CE,#156074); padding: 5px 25px; margin-top: 20px; border-radius: 1rem; ",4,"ngIf"],["class","member","style","font-size: medium; color: white; background:linear-gradient(to right, #a37541, #684216) ; padding: 5px 25px; margin-top: 20px; border-radius: 1rem; ",4,"ngIf"],[1,"main"],[1,"accordion"],[1,"value",3,"click"],["name","chevron-down-outline",4,"ngIf"],["name","chevron-up-outline",4,"ngIf"],["class","value-item",4,"ngIf"],[1,"logout-btn"],["expand","block","color","danger",3,"click"],[1,"label"],["name","log-out-outline"],[1,"username"],[1,"outlet"],[1,"member",2,"font-size","medium","color","white","background","linear-gradient(to right, #FEBB4B,#dd971d)","padding","5px 25px","margin-top","20px","border-radius","1rem"],[1,"member",2,"font-size","medium","color","white","background","linear-gradient(to right, #1EA7CE,#156074)","padding","5px 25px","margin-top","20px","border-radius","1rem"],[1,"member",2,"font-size","medium","color","white","background","linear-gradient(to right, #a37541, #684216)","padding","5px 25px","margin-top","20px","border-radius","1rem"],["name","chevron-down-outline"],["name","chevron-up-outline"],[1,"value-item"],[1,"user-pass",3,"click"],[1,"member",3,"click"]],template:function(t,o){1&t&&(n.j41(0,"ion-content",0)(1,"div",1),n.nrm(2,"div",2),n.j41(3,"ion-grid",3),n.DNE(4,f,11,2,"ion-grid",4),n.j41(5,"ion-grid",5),n.nrm(6,"ion-icon",6),n.DNE(7,p,2,0,"ion-title",7)(8,_,2,0,"ion-title",8)(9,C,2,0,"ion-title",9),n.k0s()()(),n.j41(10,"ion-grid",10)(11,"ion-grid",11)(12,"ion-grid",12),n.bIt("click",function(){return o.openProfileEdit()}),n.j41(13,"ion-row")(14,"ion-title"),n.EFF(15,"Edit Profile"),n.k0s(),n.DNE(16,M,1,0,"ion-icon",13)(17,O,1,0,"ion-icon",14),n.k0s()(),n.DNE(18,h,7,0,"ion-grid",15),n.k0s(),n.j41(19,"ion-grid",16)(20,"ion-button",17),n.bIt("click",function(){return o.logout()}),n.j41(21,"div",18),n.nrm(22,"ion-icon",19),n.j41(23,"ion-title"),n.EFF(24," Logout "),n.k0s()()()()()()),2&t&&(n.Y8G("fullscreen",!0),n.R7$(4),n.Y8G("ngIf",o.userData),n.R7$(3),n.Y8G("ngIf","1"===o.userData.userData.member_level),n.R7$(),n.Y8G("ngIf","2"===o.userData.userData.member_level),n.R7$(),n.Y8G("ngIf","3"===o.userData.userData.member_level),n.R7$(7),n.Y8G("ngIf",!o.profileEdit),n.R7$(),n.Y8G("ngIf",o.profileEdit),n.R7$(),n.Y8G("ngIf",o.profileEdit))},dependencies:[g.bT,c.Jm,c.b_,c.W9,c.lO,c.iq,c.ln,c.BC],styles:["ion-content[_ngcontent-%COMP%]{--background:#febb4b;--color: #424242}ion-content[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]{padding:2rem;display:flex;justify-content:center}ion-content[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;margin-top:30%;background:#fff;border-radius:20px 20px 0 0}ion-content[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{z-index:10;width:100%;display:flex;justify-content:center;align-items:center;padding:2rem 1.5rem;background:#fff;border-radius:20px;box-shadow:0 4px 6px #0003}ion-content[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{padding:5px 25px 5px 0;border-radius:10px}ion-content[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:small;color:#646464}ion-content[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:large;color:#424242}ion-content[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .outlet[_ngcontent-%COMP%]{padding:5px 25px 5px 0;border-radius:10px;margin-top:15px}ion-content[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .outlet[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:small;color:#646464}ion-content[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .outlet[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:large;color:#424242}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:1rem}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: none}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:small;color:#cf8f24}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{z-index:9;width:100%;margin:.5rem;background:#fff;padding:1.5rem 1rem;box-shadow:0 4px 6px #0003;border-radius:10px}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:medium;color:#424242}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:x-large;color:#424242}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .value-item[_ngcontent-%COMP%]{z-index:9;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#fff;padding:1.5rem 1rem;box-shadow:0 4px 6px #0003;border-radius:15px;transition:max-height .4s ease-in-out,opacity .4s ease-in-out}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .value-item[_ngcontent-%COMP%]   .user-pass[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .value-item[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]{--background: white;width:100%;padding:15px 5px;border-radius:10px}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .value-item[_ngcontent-%COMP%]   .user-pass[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .value-item[_ngcontent-%COMP%]   .user-pass[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .value-item[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .value-item[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:small;color:#646464}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{width:100%;padding:.5rem 1rem}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 10px}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{color:#fff;font-size:medium;padding:5px 0;font-weight:700}ion-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:x-large}"]}),i})(),x=(()=>{var e;class i{}return(e=i).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[g.MD,u.YN,c.bv,d.iI.forChild([{path:"",component:b}])]}),i})()}}]);